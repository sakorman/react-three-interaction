# React Three Interaction

ä¸€ä¸ªåŸºäºReactã€TypeScriptå’ŒThree.jsçš„3Däº¤äº’ç¼–è¾‘å™¨åº“ï¼Œæä¾›äº†å®Œæ•´çš„3Dåœºæ™¯ç¼–è¾‘åŠŸèƒ½ï¼Œæ”¯æŒå¯¹è±¡é€‰æ‹©ã€å±æ€§ç¼–è¾‘ã€å·¥å…·æ‰©å±•ç­‰åŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ¯ **ç®€å•æ˜“ç”¨** - æä¾›ç›´è§‚çš„APIï¼Œå‡ è¡Œä»£ç å³å¯é›†æˆ
- ğŸ”§ **åŠŸèƒ½ä¸°å¯Œ** - æ”¯æŒé€‰æ‹©ã€æ‚¬åœã€ç§»åŠ¨ã€æ·»åŠ ç­‰å¤šç§äº¤äº’å·¥å…·
- ğŸ¨ **å¯è§†åŒ–ç¼–è¾‘** - å®æ—¶å±æ€§é¢æ¿ï¼Œæ”¯æŒä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰å‚æ•°è°ƒæ•´
- ğŸ“ **èµ„æºç®¡ç†** - å†…ç½®èµ„æºç®¡ç†å™¨ï¼Œæ–¹ä¾¿ç®¡ç†åœºæ™¯ä¸­çš„æ‰€æœ‰å¯¹è±¡
- ğŸ‘ï¸ **å¤šè§†è§’æ”¯æŒ** - ä¿¯è§†å›¾/å‰è§†å›¾/ä¾§è§†å›¾ï¼Œæ”¯æŒæ‹–æ‹½ã€ç¼©æ”¾å’Œç²¾ç¡®æ“ä½œ
- ğŸ”Œ **é«˜åº¦å¯æ‰©å±•** - æ”¯æŒè‡ªå®šä¹‰å·¥å…·å’Œç»„ä»¶æ‰©å±•
- ğŸ’ª **TypeScript** - å®Œæ•´çš„ç±»å‹æ”¯æŒï¼Œæä¾›è‰¯å¥½çš„å¼€å‘ä½“éªŒ
- âš¡ **æ€§èƒ½ä¼˜åŒ–** - åŸºäºThree.jsçš„é«˜æ€§èƒ½3Dæ¸²æŸ“
- ğŸ“± **å“åº”å¼** - æ”¯æŒå¤šç§å±å¹•å°ºå¯¸å’Œè®¾å¤‡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
npm install react-three-interaction
# æˆ–
yarn add react-three-interaction
```

### åŸºæœ¬ç”¨æ³•

```tsx
import React, { useRef, useEffect, useState } from 'react';
import { 
  createEditor, 
  EditorProvider, 
  FunctionPanel,
  createBasicGeometry,
  createBasicMaterial,
  createMesh 
} from 'react-three-interaction';

function App() {
  const canvasRef = useRef<HTMLCanvasElement>(null);
  const [editor, setEditor] = useState(null);

  useEffect(() => {
    if (canvasRef.current) {
      const newEditor = createEditor({
        canvas: canvasRef.current,
        enableControls: true,
        autoResize: true,
      });

      // æ·»åŠ ä¸€äº›åŸºæœ¬å¯¹è±¡
      const cube = createMesh(
        createBasicGeometry.box(1, 1, 1),
        createBasicMaterial.standard(0x00ff00),
        [0, 0, 0]
      );
      newEditor.addObject(cube);

      setEditor(newEditor);

      return () => newEditor.dispose();
    }
  }, []);

  return (
    <div style={{ width: '100vw', height: '100vh' }}>
      <canvas ref={canvasRef} />
      
      {editor && (
        <EditorProvider editor={editor}>
          <FunctionPanel />
        </EditorProvider>
      )}
    </div>
  );
}
```

## ğŸ“– åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… 3Då¯¹è±¡é€‰æ‹©å’Œå¤šé€‰
- âœ… é¼ æ ‡æ‚¬åœé«˜äº®
- âœ… å¯¹è±¡å±æ€§ç¼–è¾‘
- âœ… å®æ—¶å‚æ•°è°ƒæ•´
- âœ… åœºæ™¯å¯¹è±¡ç®¡ç†
- âœ… äº‹ä»¶ç³»ç»Ÿ
- âœ… çŠ¶æ€ç®¡ç† (Zustand)
- âœ… Reactç»„ä»¶é›†æˆ
- âœ… TypeScriptå®Œå…¨æ”¯æŒ
- âœ… å¯æ‰©å±•çš„å·¥å…·ç³»ç»Ÿ

### UIç»„ä»¶
- åŠŸèƒ½é¢æ¿ (å³ä¸‹è§’) - æ˜¾ç¤ºå’Œç¼–è¾‘é€‰ä¸­å¯¹è±¡çš„å±æ€§
- é€‰æ‹©èœå• (å³é”®èœå•) - æä¾›å¤åˆ¶ã€åˆ é™¤ã€éšè—ç­‰æ“ä½œ
- èµ„æºç®¡ç†å™¨ (å·¦ä¸Šè§’) - ç®¡ç†åœºæ™¯ä¸­çš„æ‰€æœ‰å¯¹è±¡
- ä¿¯è§†å›¾ (å³ä¸Šè§’) - å¤šè§†è§’æŸ¥çœ‹å’Œç²¾ç¡®æ“ä½œ

### ğŸ¯ ä¿¯è§†å›¾äº¤äº’åŠŸèƒ½

**å¤šè§†è§’æ”¯æŒ** - ä¿¯è§†å›¾ã€å‰è§†å›¾ã€ä¾§è§†å›¾ä¸€é”®åˆ‡æ¢  
**å¯¹è±¡æ‹–æ‹½** - åœ¨ä¿¯è§†å›¾ä¸­ç›´æ¥æ‹–æ‹½ç§»åŠ¨å¯¹è±¡  
**è§†å›¾ç¼©æ”¾** - é¼ æ ‡æ»šè½®ç¼©æ”¾ï¼Œæ”¯æŒ0.1xåˆ°5xèŒƒå›´  
**è§†å›¾å¹³ç§»** - å³é”®æ‹–æ‹½å¹³ç§»è§†å›¾  
**å¤šé€‰æ”¯æŒ** - Ctrl+ç‚¹å‡»å®ç°å¤šå¯¹è±¡é€‰æ‹©  
**å®æ—¶åé¦ˆ** - ç¼©æ”¾çº§åˆ«æ˜¾ç¤ºå’Œæ“ä½œæç¤º  

#### ğŸ–±ï¸ äº¤äº’è¯´æ˜
```
å·¦é”®ç‚¹å‡»      â†’ é€‰æ‹©å¯¹è±¡
å·¦é”®æ‹–æ‹½      â†’ ç§»åŠ¨å¯¹è±¡  
å³é”®æ‹–æ‹½      â†’ å¹³ç§»è§†å›¾
æ»šè½®          â†’ ç¼©æ”¾è§†å›¾
Ctrl+å·¦é”®     â†’ å¤šé€‰å¯¹è±¡
```

> ğŸ“– è¯¦ç»†æ–‡æ¡£: [ä¿¯è§†å›¾äº¤äº’åŠŸèƒ½æ–‡æ¡£](docs/TopView-Interactions.md)

## ğŸ› ï¸ å¼€å‘

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 7.0.0

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

### æ„å»ºé¡¹ç›®

```bash
npm run build
```

### è¿è¡Œç¤ºä¾‹

```bash
npm run example
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ core/                  # æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ EditorCore.ts      # ç¼–è¾‘å™¨æ ¸å¿ƒç±»
â”‚   â”œâ”€â”€ EventSystem.ts     # äº‹ä»¶ç³»ç»Ÿ
â”‚   â””â”€â”€ SceneManager.ts    # åœºæ™¯ç®¡ç†
â”œâ”€â”€ tools/                 # äº¤äº’å·¥å…·
â”‚   â”œâ”€â”€ select/            # é€‰æ‹©å·¥å…·
â”‚   â”œâ”€â”€ drag/              # æ‹–æ‹½å·¥å…·
â”‚   â”œâ”€â”€ top-view/          # ä¿¯è§†å›¾äº¤äº’å·¥å…·
â”‚   â””â”€â”€ index.ts           # å·¥å…·å¯¼å‡º
â”œâ”€â”€ views/                 # UIè§†å›¾ç»„ä»¶
â”‚   â”œâ”€â”€ function-panel/    # åŠŸèƒ½é¢æ¿
â”‚   â”œâ”€â”€ select-menu/       # é€‰æ‹©èœå•
â”‚   â”œâ”€â”€ resource-manager/  # èµ„æºç®¡ç†å™¨
â”‚   â”œâ”€â”€ top-view/          # ä¿¯è§†å›¾ç»„ä»¶
â”‚   â””â”€â”€ context/           # Reactä¸Šä¸‹æ–‡
â”œâ”€â”€ models/                # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ SceneObject.ts     # åœºæ™¯å¯¹è±¡æ¨¡å‹
â”‚   â””â”€â”€ EditorState.ts     # ç¼–è¾‘å™¨çŠ¶æ€æ¨¡å‹
â”œâ”€â”€ hooks/                 # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ useEditor.ts       # ç¼–è¾‘å™¨Hook
â”‚   â””â”€â”€ useSelection.ts    # é€‰æ‹©Hook
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ three-utils.ts     # Three.jså·¥å…·å‡½æ•°
â””â”€â”€ index.ts               # é¡¹ç›®å…¥å£
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“„ è®¸å¯è¯

[MIT](LICENSE) Â© Your Name
